# AI 数据分析系统用户指南

## 简介

本用户指南提供了AI数据分析系统的详细使用说明，帮助用户快速了解系统功能并有效利用各项分析工具。无论您是数据分析初学者还是专业分析师，本指南都将帮助您充分发挥系统的强大功能。

## 快速入门

### 首次使用流程

1. **启动系统**
   - 按照README中的安装说明配置环境
   - 运行`streamlit run src/ui/app.py`启动应用
   - 等待浏览器自动打开应用界面

2. **导入数据**
   - 在左侧菜单栏点击"数据导入"
   - 点击"浏览文件"按钮，选择CSV格式的数据文件
   - 系统自动加载并显示数据预览

3. **基本数据探索**
   - 查看数据基本信息（行数、列数、数据类型）
   - 浏览前几行数据内容
   - 检查缺失值和数据分布情况

## 详细功能指南

### 1. 数据导入与管理

#### 支持的数据格式
- CSV (逗号分隔值) 文件
- 推荐编码：UTF-8
- 支持常见数据类型：数值型、文本型、日期型

#### 数据导入选项
- **浏览文件**：从本地文件系统选择文件
- **数据预览**：显示前100行数据
- **编码选择**：默认为UTF-8，可根据需要调整

#### 数据导出
- 清洗处理后的数据可导出为CSV格式
- 在数据处理界面点击"导出数据"按钮

### 2. 数据预处理功能

#### 缺失值处理
- **自动检测**：系统自动识别缺失值并统计数量
- **处理选项**：
  - 删除缺失值行
  - 用均值/中位数填充（数值型）
  - 用众数填充（分类型）
  - 用前后值填充（时间序列）

#### 异常值处理
- **异常值检测**：基于统计方法（如IQR）识别异常值
- **处理选项**：
  - 保留异常值
  - 替换为边界值
  - 删除包含异常值的行

#### 数据转换
- **类型转换**：将数据列转换为适当的数据类型
- **标准化/归一化**：数值型数据的标准化处理
- **编码转换**：
  - 独热编码（One-Hot Encoding）
  - 标签编码（Label Encoding）
  - 日期时间转换

#### 特征工程
- **特征选择**：基于相关性或重要性选择特征
- **特征创建**：创建新特征（如日期分解、聚合计算等）
- **特征缩放**：数据范围缩放（MinMax、Standard等）

### 3. 数据可视化功能

#### 图表类型介绍

1. **散点图**
   - **适用场景**：分析两个数值变量之间的关系
   - **参数设置**：选择X轴、Y轴变量，可选大小映射、颜色分组
   - **高级选项**：添加趋势线、显示相关系数

2. **柱状图**
   - **适用场景**：比较不同类别的数值大小
   - **参数设置**：选择分类变量、数值变量，可选水平显示
   - **高级选项**：限制显示前N个类别

3. **折线图**
   - **适用场景**：展示数据随时间的变化趋势
   - **参数设置**：选择X轴（通常是时间）、Y轴变量
   - **高级选项**：多条线对比、显示标记点

4. **直方图**
   - **适用场景**：展示单一数值变量的分布情况
   - **参数设置**：选择目标列、设置分箱数量
   - **高级选项**：显示密度曲线

5. **热力图**
   - **适用场景**：展示多个变量之间的相关性
   - **参数设置**：自动计算并显示相关性矩阵
   - **高级选项**：自定义颜色映射、显示数值标签

6. **箱线图**
   - **适用场景**：识别异常值和数据分布特征
   - **参数设置**：选择数值列，可选分组变量

7. **饼图**
   - **适用场景**：展示分类变量的占比情况
   - **参数设置**：选择分类列和数值列
   - **高级选项**：显示百分比、限制显示前N个类别

#### 图表智能推荐
- 系统会自动分析数据特征并推荐最适合的图表类型
- 在可视化界面顶部查看推荐列表和推荐理由
- 点击推荐项可快速创建相应图表

#### 图表自定义
- **标题设置**：自定义图表标题
- **颜色选择**：选择适合的颜色方案
- **尺寸调整**：设置图表宽度和高度
- **图例位置**：调整图例显示位置

#### 图表导出
- 生成的图表可导出为PNG或SVG格式
- 在图表下方点击"导出图表"按钮
- 选择导出格式和保存位置

### 4. 机器学习模型功能

#### 模型类型
- **分类模型**：用于预测离散类别
  - 逻辑回归
  - 随机森林分类器
  - 支持向量机
  - K最近邻

- **回归模型**：用于预测连续数值
  - 线性回归
  - 随机森林回归器
  - 梯度提升回归树
  - 支持向量回归

#### 模型选择流程
1. 选择预测目标列（分类或回归）
2. 系统自动分析数据特征
3. 推荐最适合的模型类型
4. 可选择自动调参或手动设置参数
5. 训练模型并评估性能

#### 模型评估
- **分类评估指标**：准确率、精确率、召回率、F1分数、ROC曲线
- **回归评估指标**：均方误差、平均绝对误差、R²分数
- **交叉验证**：默认使用5折交叉验证评估模型稳定性

#### 预测结果
- 可对新数据进行预测
- 生成预测结果数据框并支持导出
- 可视化展示预测结果与实际值的对比

### 5. Word报告生成

#### 报告内容定制
- **基本信息**：项目名称、报告生成日期、数据概览
- **数据统计**：描述性统计、数据质量分析
- **图表选择**：勾选需要包含在报告中的图表
- **分析总结**：自动生成的数据分析总结

#### 报告生成步骤
1. 在报告界面选择报告内容
2. 输入报告标题和基本信息
3. 点击"生成Word报告"按钮
4. 等待系统生成报告（进度条显示状态）
5. 下载生成的.docx文件

#### 报告格式
- 专业排版的Word文档
- 包含目录和章节标题
- 图表自动嵌入文档
- 支持自定义页眉页脚

### 6. AI助手功能

#### 功能介绍
- **数据分析咨询**：提供关于数据处理和分析方法的建议
- **图表选择指导**：根据分析需求推荐适合的图表类型
- **模型选择建议**：针对具体问题推荐合适的机器学习模型
- **报告撰写辅助**：提供报告结构和内容组织的建议

#### 使用方法
- 在侧边栏找到AI助手面板
- 在输入框中输入您的问题或需求
- 点击发送按钮获取AI助手的回复
- 可查看历史对话记录

#### 常见问题示例
- "我的数据有缺失值，应该如何处理？"
- "我想比较不同产品的销售额，应该用什么图表？"
- "如何提高我的模型预测准确率？"
- "报告中应该包含哪些关键分析结果？"

## 系统界面说明

### 主界面布局
- **顶部导航栏**：显示应用标题和基本操作
- **左侧菜单栏**：功能模块导航
- **中央主区域**：当前功能的详细操作界面
- **右侧信息区**：进度条、状态信息和辅助说明

### 导航与操作
- 点击左侧菜单切换不同功能模块
- 使用界面中的按钮、下拉菜单进行操作
- 图表可通过拖拽调整位置（部分支持）
- 使用进度条监控长时间操作的状态

### 状态与提示
- **进度显示**：操作进行中的进度百分比
- **状态图标**：
  - ✅ 操作成功
  - ⚠️ 警告信息
  - ❌ 错误提示
  - 🔄 处理中
- **消息通知**：重要信息和操作结果提示

## 典型使用场景

### 场景一：销售数据分析

**目标**：分析月度销售数据，识别销售趋势和关键影响因素

**步骤**：
1. 导入包含日期、产品、销售额等字段的销售数据
2. 使用数据预处理功能处理缺失值和异常值
3. 使用折线图展示销售额随时间的变化趋势
4. 使用柱状图比较不同产品类别的销售表现
5. 使用热力图分析各因素与销售额的相关性
6. 使用回归模型预测未来销售额
7. 生成包含关键发现和建议的Word报告

### 场景二：客户流失预测

**目标**：基于客户数据，预测可能流失的客户并分析原因

**步骤**：
1. 导入包含客户信息、使用行为、历史流失记录的数据集
2. 进行特征工程，创建相关特征（如使用频率、活跃度等）
3. 使用分类模型（如随机森林）训练流失预测模型
4. 分析特征重要性，识别影响客户流失的关键因素
5. 使用饼图展示不同流失风险级别的客户分布
6. 使用箱线图比较高风险和低风险客户在各维度的差异
7. 生成包含预测结果和改善建议的报告

### 场景三：产品质量分析

**目标**：分析产品质量数据，识别质量问题和改进机会

**步骤**：
1. 导入包含检测时间、检测项目、检测值等字段的数据
2. 使用直方图分析各项检测指标的分布情况
3. 使用散点图分析不同质量指标之间的关系
4. 使用箱线图识别异常值和潜在质量问题
5. 使用热力图分析生产条件与质量指标的关系
6. 生成包含质量状况分析和改进建议的报告

## 性能优化建议

### 大数据集处理
- 对于超过10万行的数据，建议先在外部工具进行数据抽样
- 数据预处理时可选择批量处理或部分列处理
- 可视化大数据集时，考虑限制显示的数据点数量

### 图表生成优化
- 对于复杂图表，考虑减少数据点数量或降低图表分辨率
- 避免在同一图表中显示过多系列或类别
- 大型报告生成时，可选择减少图表数量或降低图表DPI

### 系统资源管理
- 长时间不使用时，建议关闭应用以释放系统资源
- 处理大型文件时，确保有足够的内存和磁盘空间
- 定期清理临时文件和缓存数据

## 故障排除

### 常见问题与解决方案

1. **应用启动失败**
   - 检查Python版本是否符合要求
   - 确认所有依赖包已正确安装
   - 查看错误日志获取具体信息

2. **数据导入错误**
   - 检查文件格式是否为标准CSV
   - 验证文件编码是否为UTF-8
   - 确认文件路径无特殊字符或空格

3. **图表显示异常**
   - 检查数据是否包含无效值或NaN
   - 确认选择的图表类型适合当前数据
   - 尝试调整图表参数或减少数据量

4. **模型训练失败**
   - 检查目标列是否包含缺失值
   - 确认特征列的数据类型正确
   - 尝试简化模型或减少特征数量

5. **报告生成超时**
   - 减少报告中包含的图表数量
   - 降低图表分辨率和质量设置
   - 关闭其他占用系统资源的应用

### 获取帮助
- 查看系统中的帮助提示和说明文本
- 参考本用户指南的相关章节
- 联系技术支持团队获取进一步帮助

## 更新日志

### 版本 1.0.0
- 初始版本发布
- 实现核心数据处理和可视化功能
- 集成基本机器学习模型
- 支持Word报告生成
- 部署AI助手功能

---

本用户指南将随着系统更新不断完善。如有任何问题或建议，请联系项目团队。

祝您使用愉快！